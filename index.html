<!DOCTYPE html>
<html>

<head>
    <title>Codecademy</title>
</head>

<body>
    <h1>Square Game</h1>
    <main>
        <canvas></canvas>
        <!--where all the magic happens-->
    </main>
    <section>Score; </section><span>0</span></section>

    <script>
        //inject javascript into html
        const canvas = document.querySelector('canvas') //references the canvas element in html
        canvas.width = 300
        canvas.height = 300
        const ctx = canvas.getContext('2d') //paint pixels on canvas

        let player_x = 20
        let player_y = 20
        let base_x = Math.floor(Math.random() * 250)
        let base_y = Math.floor(Math.random() * 250)


        //runs every 60th of a second
        function step() {
            ctx.clearRect(0, 0, 300, 300) //clears entire canvas
            ctx.fillStyle = 'red'
            ctx.fillRect(player_x, player_y, 10, 10)
            ctx.strokeRect(base_x, base_y, 50, 50)
                //check if player won
            if (player_x >= base_x && player_y >= base_y && player_x <= base_x +
                50 && player_y <= base_y + 50) {
                base_x = Math.floor(Math.random() * 250)
                base_y = Math.floor(Math.random() * 250)
            }

            requestAnimationFrame(step)
        }
        requestAnimationFrame(step)
            //handles keypress events, moves player around canvas
        function handleInput(event) {
            const key = event.key
            if (key === 'a') {
                player_x -= 5
            } else if (key === 'w') {
                player_y -= 5
            } else if (key === 'd') {
                player_x += 5
            } else if (key === 's') {
                player_y += 5
            }
        }
        //eventlistener listens and runs these functions
        document.addEventListener('keypress', handleInput)
    </script>

    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</body>

</html>s